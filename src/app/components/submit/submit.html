<navbar></navbar>
<div id="submit-dashboard" class="text-center">
  <div class="main-container ">
    <h1>Submit Assignments</h1>

    <div class="row">
      <div class="col-sm-4">
        <h3>Backlog</h3>
        <div class="panel panel-default" ng-repeat="assignment in $ctrl.assignments | filter: {isAssigned: 'true', status: 'backlog' }">
          <div class="panel-heading">{{assignment.title}}
            <button class="pull-right btn btn-default" ng-click="$ctrl.startAssignment(assignment)">
              <i class="fas fa-arrow-alt-circle-right"></i>
            </button>
          </div>
          <div class="panel-body text-left">
            <div>Due Date: {{assignment.dueDate}}</div>
            <div ng-if="assignment.notes">Notes: {{assignment.notes}}</div>
          </div>
        </div>
      </div>
      <div class="col-sm-4">
        <h3>In Progress</h3>
        <div class="panel panel-warning" ng-repeat="assignment in $ctrl.assignments | filter: {isAssigned: 'true', status: 'inProgress' }">
          <div class="panel-heading">{{assignment.title}}
            <button class="pull-right btn btn-info" ng-disabled="(assignment.isEditing === true) || (assignment.githubUrl.length < 1)"
              ng-click="$ctrl.completeAssignment(assignment)">
              <i class="fas fa-check"></i>
            </button>
          </div>
          <div class="panel-body text-left">
            <div>Due Date: {{assignment.dueDate}}</div>
            <div ng-if="assignment.notes">Notes: {{assignment.notes}}</div>
            <label for="githubUrl">Github Repo Url:</label>
            <div ng-if='!assignment.isEditing'>
              <div class="col-xs-9 github-url-box">{{assignment.githubUrl || 'none'}}</div>
              <div class="col-xs-3 no-pad">
                <button class="btn btn-default" ng-click="assignment.isEditing = true">
                  <i class="fas fa-pencil-alt"></i>
                </button>
              </div>
            </div>
            <div ng-if='assignment.isEditing'>
              <input id="githubUrl" class="col-xs-9 github-url-input" type="text" ng-model="assignment.githubUrl" placeholder="https://github.com/zoeames/class-deadlines">
              <div class="col-xs-3 no-pad">
                <button class="btn btn-info" ng-click="$ctrl.updateGithub(assignment)">
                  <i class="fas fa-save"></i>
                </button>
                <button class="btn btn-danger" ng-click="assignment.isEditing = false">
                  <i class="fas fa-times"></i>
                </button>
              </div>
            </div>
          </div>
        </div>
      </div>
      <div class="col-sm-4">
        <h3>Done</h3>
        <div class="panel panel-success" ng-repeat="assignment in $ctrl.assignments | filter: {isAssigned: 'true', status: 'done' }">
          <div class="panel-heading">{{assignment.title}}
            <a class="pull-right btn btn-success" target="_blank" href="{{assignment.githubUrl}}">
              <i class="fab fa-github"></i>
            </a>
          </div>
          <div class="panel-body text-left">
            <div>Due Date: {{assignment.dueDate}}</div>
            <div ng-if="assignment.notes">Notes: {{assignment.notes}}</div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>